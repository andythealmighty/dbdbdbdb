<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DB Ïä§ÌÇ§Îßà ÏãúÍ∞ÅÌôî</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --background-color: #f8f9fa;
            --card-background: #ffffff;
            --text-color: #2c3e50;
            --border-color: #e9ecef;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --highlight-color: #e3f2fd;
            --category-colors: {
                users: #3498db;
                properties: #2ecc71;
                ai: #e74c3c;
                contracts: #f1c40f;
                communication: #9b59b6;
                others: #95a5a6;
            }
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px var(--shadow-color);
        }

        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 700;
        }

        .header p {
            margin: 10px 0 0;
            font-size: 1.1em;
            opacity: 0.9;
        }

        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0;
            margin-bottom: 40px;
            flex-wrap: wrap;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 4px var(--shadow-color);
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        .search-box {
            position: relative;
            width: 300px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .filter-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 16px;
        }

        .filter-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background-color: var(--secondary-color);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow-color);
        }

        .filter-btn.active {
            background-color: var(--primary-color);
        }

        .schema-container {
            position: relative;
            min-height: 800px;
        }

        .category-section {
            margin-bottom: 60px;
            position: relative;
        }

        .category-header {
            background: white;
            padding: 15px 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px var(--shadow-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .category-header h2 {
            margin: 0;
            font-size: 1.8em;
            color: var(--primary-color);
        }

        .category-content {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 30px;
            padding: 20px;
        }

        .table-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px var(--shadow-color);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .table-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px var(--shadow-color);
        }

        .table-card.highlighted {
            background-color: var(--highlight-color);
            box-shadow: 0 0 0 2px var(--secondary-color);
        }

        .table-card.related {
            background-color: rgba(52, 152, 219, 0.1);
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }

        .table-name {
            font-size: 1.4em;
            font-weight: bold;
            color: var(--primary-color);
        }

        .column-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .column {
            background: var(--background-color);
            padding: 12px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .column:hover {
            background: #f1f3f5;
        }

        .column-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .column-name {
            font-weight: 500;
            color: var(--primary-color);
        }

        .column-type {
            color: #6c757d;
            font-size: 0.9em;
        }

        .column-comment {
            color: #868e96;
            font-size: 0.85em;
            margin-top: 5px;
        }

        .relationship {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px dashed var(--border-color);
        }

        .relationship-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 8px 0;
            font-size: 0.9em;
            color: var(--secondary-color);
            cursor: pointer;
        }

        .relationship-item:hover {
            text-decoration: underline;
        }

        /* Í¥ÄÍ≥ÑÏÑ† Ïä§ÌÉÄÏùº Í∞úÏÑ† */
        .relationship-line {
            position: absolute;
            background-color: var(--secondary-color);
            height: 2px;
            transform-origin: left center;
            pointer-events: none;
            z-index: 1;
            opacity: 0.3;
            transition: all 0.3s ease;
        }

        .relationship-line.highlighted {
            opacity: 1;
            height: 3px;
            background-color: #e74c3c;
        }

        .relationship-line::after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 5px 0 5px 8px;
            border-color: transparent transparent transparent var(--secondary-color);
        }

        .relationship-line.highlighted::after {
            border-color: transparent transparent transparent #e74c3c;
        }

        /* Ìà¥ÌåÅ Ïä§ÌÉÄÏùº */
        .tooltip {
            position: absolute;
            background: white;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px var(--shadow-color);
            font-size: 0.9em;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tooltip.visible {
            opacity: 1;
        }

        /* Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÏÉâÏÉÅ */
        .category-users { --category-color: #3498db; }
        .category-properties { --category-color: #2ecc71; }
        .category-ai { --category-color: #e74c3c; }
        .category-contracts { --category-color: #f1c40f; }
        .category-communication { --category-color: #9b59b6; }
        .category-others { --category-color: #95a5a6; }

        /* Î∞òÏùëÌòï ÎîîÏûêÏù∏ */
        @media (max-width: 1200px) {
            .category-content {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .search-box {
                width: 100%;
            }
            
            .category-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà ÏãúÍ∞ÅÌôî</h1>
            <p>ÌÖåÏù¥Î∏îÏùÑ ÌÅ¥Î¶≠ÌïòÏó¨ Í¥ÄÍ≥ÑÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî</p>
        </div>
        
        <div class="controls">
            <div class="search-box">
                <input type="text" placeholder="ÌÖåÏù¥Î∏î ÎòêÎäî Ïª¨Îüº Í≤ÄÏÉâ...">
            </div>
            <div class="filter-group">
                <button class="filter-btn active" data-category="all">Ï†ÑÏ≤¥</button>
                <button class="filter-btn" data-category="users">ÏÇ¨Ïö©Ïûê</button>
                <button class="filter-btn" data-category="properties">Îß§Î¨º</button>
                <button class="filter-btn" data-category="ai">AI Î∂ÑÏÑù</button>
                <button class="filter-btn" data-category="contracts">Í≥ÑÏïΩ</button>
                <button class="filter-btn" data-category="communication">Ïª§ÎÆ§ÎãàÏºÄÏù¥ÏÖò</button>
                <button class="filter-btn" data-category="others">Í∏∞ÌÉÄ</button>
            </div>
        </div>

        <div class="schema-container" id="schemaContainer">
            <!-- ÌÖåÏù¥Î∏î Ïπ¥ÎìúÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
        </div>
    </div>

    <script>
        // Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà Îç∞Ïù¥ÌÑ∞
        const schemaData = {
            // A. Users and Profiles
            users: {
                category: "users",
                columns: [
                    { name: 'id', type: 'INT', comment: 'Í≥†Ïú† ÏÇ¨Ïö©Ïûê ID', isPrimary: true },
                    { name: 'email', type: 'VARCHAR(255)', comment: 'Î°úÍ∑∏Ïù∏ Ïù¥Î©îÏùº', isUnique: true },
                    { name: 'password_hash', type: 'VARCHAR(255)', comment: 'ÏïîÌò∏ÌôîÎêú ÎπÑÎ∞ÄÎ≤àÌò∏' },
                    { name: 'name', type: 'VARCHAR(100)', comment: 'ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ' },
                    { name: 'phone', type: 'VARCHAR(20)', comment: 'Ïó∞ÎùΩÏ≤ò' },
                    { name: 'role', type: 'ENUM', comment: 'ÏÇ¨Ïö©Ïûê Ïó≠Ìï† (ÌîÑÎûúÏ∞®Ïù¥Ï¶à, Î∂ÄÎèôÏÇ∞, ÏòàÎπÑÏ†êÏ£º, Í¥ÄÎ¶¨Ïûê)' },
                    { name: 'is_deleted', type: 'BOOLEAN', comment: 'ÏÜåÌîÑÌä∏ ÏÇ≠Ï†ú Ïó¨Î∂Ä' },
                    { name: 'created_at', type: 'DATETIME', comment: 'ÏÉùÏÑ±ÏùºÏãú' }
                ]
            },
            franchise_profiles: {
                category: "users",
                columns: [
                    { name: 'user_id', type: 'INT', comment: 'users.id Ï∞∏Ï°∞', isPrimary: true },
                    { name: 'company_name', type: 'VARCHAR(255)', comment: 'ÌîÑÎûúÏ∞®Ïù¥Ï¶à ÌöåÏÇ¨ Ïù¥Î¶Ñ' },
                    { name: 'position', type: 'VARCHAR(100)', comment: 'ÏßÅÏúÑ' },
                    { name: 'bio', type: 'TEXT', comment: 'ÏûêÍ∏∞ÏÜåÍ∞ú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'users', column: 'user_id' }
                ]
            },
            agent_profiles: {
                category: "users",
                columns: [
                    { name: 'user_id', type: 'INT', comment: 'users.id Ï∞∏Ï°∞', isPrimary: true },
                    { name: 'agency_name', type: 'VARCHAR(255)', comment: 'Î∂ÄÎèôÏÇ∞ ÌöåÏÇ¨ Ïù¥Î¶Ñ' },
                    { name: 'license_number', type: 'VARCHAR(100)', comment: 'Í≥µÏù∏Ï§ëÍ∞úÏÇ¨ Îì±Î°ùÎ≤àÌò∏' },
                    { name: 'bio', type: 'TEXT', comment: 'ÏûêÍ∏∞ÏÜåÍ∞ú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'users', column: 'user_id' }
                ]
            },
            owner_profiles: {
                category: "users",
                columns: [
                    { name: 'user_id', type: 'INT', comment: 'users.id Ï∞∏Ï°∞', isPrimary: true },
                    { name: 'interests', type: 'TEXT', comment: 'Í¥ÄÏã¨ ÌîÑÎûúÏ∞®Ïù¥Ï¶à/ÏóÖÏ¢Ö/ÏßÄÏó≠ Îì±' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'users', column: 'user_id' }
                ]
            },

            // B. Properties (Îß§Î¨º)
            properties: {
                category: "properties",
                columns: [
                    { name: 'id', type: 'INT', comment: 'Îß§Î¨º ID', isPrimary: true },
                    { name: 'title', type: 'VARCHAR(255)', comment: 'Îß§Î¨º Ï†úÎ™©' },
                    { name: 'address', type: 'VARCHAR(500)', comment: 'ÏÉÅÏÑ∏ Ï£ºÏÜå' },
                    { name: 'region_code', type: 'VARCHAR(10)', comment: 'ÌñâÏ†ïÎèô ÏΩîÎìú' },
                    { name: 'area_m2', type: 'FLOAT', comment: 'Î©¥Ï†Å („é°)' },
                    { name: 'area_pyeong', type: 'FLOAT', comment: 'Î©¥Ï†Å (Ìèâ)' },
                    { name: 'deposit', type: 'INT', comment: 'Î≥¥Ï¶ùÍ∏à' },
                    { name: 'monthly_rent', type: 'INT', comment: 'ÏõîÏÑ∏' },
                    { name: 'sale_price', type: 'INT', comment: 'Îß§Îß§Í∞Ä' },
                    { name: 'management_fee', type: 'INT', comment: 'Í¥ÄÎ¶¨ÎπÑ' },
                    { name: 'floor', type: 'INT', comment: 'Ï∏µÏàò' },
                    { name: 'building_type', type: 'VARCHAR(100)', comment: 'Í±¥Î¨º Ïú†Ìòï (ÏÉÅÍ∞Ä, ÏÇ¨Î¨¥Ïã§ Îì±)' },
                    { name: 'year_built', type: 'INT', comment: 'Í±¥Ï∂ï Ïó∞ÎèÑ' },
                    { name: 'renovated', type: 'BOOLEAN', comment: 'Î¶¨Î™®Îç∏ÎßÅ Ïó¨Î∂Ä' },
                    { name: 'available_from', type: 'DATE', comment: 'ÏûÖÏ£º Í∞ÄÎä•Ïùº' },
                    { name: 'status', type: 'ENUM', comment: 'ÏÉÅÌÉú (available, pending, sold)' },
                    { name: 'is_deleted', type: 'BOOLEAN', comment: 'ÏÜåÌîÑÌä∏ ÏÇ≠Ï†ú Ïó¨Î∂Ä' },
                    { name: 'agent_id', type: 'INT', comment: 'Îì±Î°ùÌïú Î∂ÄÎèôÏÇ∞ ÏÇ¨Ïö©Ïûê ID' },
                    { name: 'created_at', type: 'DATETIME', comment: 'Îì±Î°ùÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'users', column: 'agent_id' }
                ]
            },

            // C. Property Requests (Îß§Î¨º ÏöîÏ≤≠)
            property_requests: {
                category: "properties",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ÏöîÏ≤≠ ID', isPrimary: true },
                    { name: 'franchise_id', type: 'INT', comment: 'ÏöîÏ≤≠Ìïú ÌîÑÎûúÏ∞®Ïù¥Ï¶à ÏÇ¨Ïö©Ïûê ID' },
                    { name: 'title', type: 'VARCHAR(255)', comment: 'ÏöîÏ≤≠ Ï†úÎ™©' },
                    { name: 'description', type: 'TEXT', comment: 'ÏöîÏ≤≠ ÏÑ§Î™Ö' },
                    { name: 'region_preference', type: 'VARCHAR(255)', comment: 'ÏÑ†Ìò∏ ÏßÄÏó≠' },
                    { name: 'radius_km', type: 'INT', comment: 'ÏÑ†Ìò∏ ÏßÄÏó≠ Î∞òÍ≤Ω (km)' },
                    { name: 'urgency_level', type: 'VARCHAR(50)', comment: 'Í∏¥Í∏âÎèÑ ÌëúÏãú' },
                    { name: 'contact_name', type: 'VARCHAR(100)', comment: 'Îã¥ÎãπÏûê Ïù¥Î¶Ñ' },
                    { name: 'contact_phone', type: 'VARCHAR(50)', comment: 'Îã¥ÎãπÏûê Ïó∞ÎùΩÏ≤ò' },
                    { name: 'status', type: 'ENUM', comment: 'ÏÉÅÌÉú (pending, in_progress, completed, cancelled)' },
                    { name: 'is_deleted', type: 'BOOLEAN', comment: 'ÏÇ≠Ï†ú Ïó¨Î∂Ä' },
                    { name: 'due_date', type: 'DATE', comment: 'ÎßàÍ∞êÏùº' },
                    { name: 'created_at', type: 'DATETIME', comment: 'Îì±Î°ùÏùº' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'users', column: 'franchise_id' }
                ]
            },
            request_preferences: {
                category: "properties",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'request_id', type: 'INT', comment: 'property_requests.id Ï∞∏Ï°∞' },
                    { name: 'property_type', type: 'VARCHAR(100)', comment: 'Îß§Î¨º Ïú†Ìòï' },
                    { name: 'transaction_type', type: 'VARCHAR(50)', comment: 'Í±∞Îûò Ïú†Ìòï (ÏûÑÎåÄ, Îß§Îß§ Îì±)' },
                    { name: 'category', type: 'VARCHAR(100)', comment: 'ÏóÖÏ¢Ö Ïπ¥ÌÖåÍ≥†Î¶¨' },
                    { name: 'min_area', type: 'FLOAT', comment: 'ÏµúÏÜå Î©¥Ï†Å' },
                    { name: 'max_area', type: 'FLOAT', comment: 'ÏµúÎåÄ Î©¥Ï†Å' },
                    { name: 'min_floor', type: 'INT', comment: 'ÏµúÏÜå Ï∏µÏàò' },
                    { name: 'min_rooms', type: 'INT', comment: 'ÏµúÏÜå Î∞©Ïàò' },
                    { name: 'min_toilets', type: 'INT', comment: 'ÏµúÏÜå ÌôîÏû•Ïã§ Ïàò' },
                    { name: 'min_parking', type: 'INT', comment: 'ÏµúÏÜå Ï£ºÏ∞®Í≥µÍ∞Ñ Ïàò' },
                    { name: 'required_facilities', type: 'TEXT', comment: 'ÌïÑÏàò ÎÇ¥Î∂Ä ÏãúÏÑ§ (ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞ Îì±)' },
                    { name: 'required_surroundings', type: 'TEXT', comment: 'ÌïÑÏàò Ï£ºÎ≥Ä ÏãúÏÑ§ (ÏßÄÌïòÏ≤† Îì±)' },
                    { name: 'min_budget', type: 'INT', comment: 'ÏòàÏÇ∞ Î≤îÏúÑ ÏµúÏÜå' },
                    { name: 'max_budget', type: 'INT', comment: 'ÏòàÏÇ∞ Î≤îÏúÑ ÏµúÎåÄ' },
                    { name: 'min_deposit', type: 'INT', comment: 'Î≥¥Ï¶ùÍ∏à Î≤îÏúÑ ÏµúÏÜå' },
                    { name: 'max_deposit', type: 'INT', comment: 'Î≥¥Ï¶ùÍ∏à Î≤îÏúÑ ÏµúÎåÄ' },
                    { name: 'min_rent', type: 'INT', comment: 'ÏõîÏÑ∏ Î≤îÏúÑ ÏµúÏÜå' },
                    { name: 'max_rent', type: 'INT', comment: 'ÏõîÏÑ∏ Î≤îÏúÑ ÏµúÎåÄ' },
                    { name: 'max_maintenance', type: 'INT', comment: 'Í¥ÄÎ¶¨ÎπÑ ÏµúÎåÄ' },
                    { name: 'max_premium', type: 'INT', comment: 'Í∂åÎ¶¨Í∏à ÏµúÎåÄ' },
                    { name: 'notes', type: 'TEXT', comment: 'Ï∂îÍ∞Ä Î©îÎ™®' },
                    { name: 'tags', type: 'TEXT', comment: 'Í≤ÄÏÉâÏö© ÌÉúÍ∑∏ (AIÏö©)' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'property_requests', column: 'request_id' }
                ]
            },

            // D. AI Reports (AI Î∂ÑÏÑù Î≥¥Í≥†ÏÑú)
            ai_reports: {
                category: "ai",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'property_id', type: 'INT', comment: 'Î∂ÑÏÑù ÎåÄÏÉÅ Îß§Î¨º ID' },
                    { name: 'request_id', type: 'INT', comment: 'Î∂ÑÏÑù ÎåÄÏÉÅ ÏöîÏ≤≠ ID' },
                    { name: 'report_type', type: 'ENUM', comment: 'Î∂ÑÏÑù ÎåÄÏÉÅ Íµ¨Î∂Ñ (property, request)' },
                    { name: 'status', type: 'ENUM', comment: 'ÏÉÅÌÉú (pending, processing, completed, failed)' },
                    { name: 'overall_score', type: 'DECIMAL(5,2)', comment: 'Ï¢ÖÌï© Ï†êÏàò' },
                    { name: 'summary', type: 'TEXT', comment: 'ÏöîÏïΩ ÏÑ§Î™Ö' },
                    { name: 'created_at', type: 'DATETIME', comment: 'ÏÉùÏÑ±ÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'properties', column: 'property_id' },
                    { type: 'foreign_key', target: 'property_requests', column: 'request_id' }
                ]
            },
            ai_report_location: {
                category: "ai",
                columns: [
                    { name: 'report_id', type: 'INT', comment: 'ai_reports.id Ï∞∏Ï°∞', isPrimary: true },
                    { name: 'location_score', type: 'DECIMAL(5,2)', comment: 'ÏûÖÏßÄ Ï†êÏàò' },
                    { name: 'population_analysis', type: 'JSON', comment: 'ÏãúÍ∞ÑÎåÄÎ≥Ñ Ïú†ÎèôÏù∏Íµ¨' },
                    { name: 'demographics', type: 'JSON', comment: 'Ïù∏Íµ¨ ÌÜµÍ≥Ñ (Ïó∞Î†π, ÏÑ±Î≥Ñ, ÏÜåÎìù)' },
                    { name: 'strengths', type: 'TEXT', comment: 'Ïû•Ï†ê' },
                    { name: 'weaknesses', type: 'TEXT', comment: 'Îã®Ï†ê' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'ai_reports', column: 'report_id' }
                ]
            },
            ai_report_market: {
                category: "ai",
                columns: [
                    { name: 'report_id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'market_score', type: 'DECIMAL(5,2)', comment: 'ÏÉÅÍ∂å Ï†êÏàò' },
                    { name: 'age_distribution', type: 'JSON', comment: 'Ïó∞Î†π Î∂ÑÌè¨' },
                    { name: 'gender_income_distribution', type: 'JSON', comment: 'ÏÑ±Î≥Ñ+ÏÜåÎìù Î∂ÑÌè¨' },
                    { name: 'traffic_by_day_hour', type: 'JSON', comment: 'ÏöîÏùº/ÏãúÍ∞ÑÎåÄÎ≥Ñ Ïú†Îèô' },
                    { name: 'strengths', type: 'TEXT', comment: 'Í∞ïÏ†ê' },
                    { name: 'opportunities', type: 'TEXT', comment: 'Í∏∞Ìöå' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'ai_reports', column: 'report_id' }
                ]
            },
            ai_report_competition: {
                category: "ai",
                columns: [
                    { name: 'report_id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'competition_score', type: 'DECIMAL(5,2)', comment: 'Í≤ΩÏüÅ Ï†êÏàò' },
                    { name: 'nearby_competitors', type: 'JSON', comment: 'Î∞òÍ≤Ω ÎÇ¥ Í≤ΩÏüÅÏûê Î™©Î°ù' },
                    { name: 'risks', type: 'TEXT', comment: 'Î¶¨Ïä§ÌÅ¨' },
                    { name: 'differentiation', type: 'TEXT', comment: 'Ï∞®Î≥ÑÌôî Ï†ÑÎûµ' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'ai_reports', column: 'report_id' }
                ]
            },
            ai_report_profit: {
                category: "ai",
                columns: [
                    { name: 'report_id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'profit_score', type: 'DECIMAL(5,2)', comment: 'ÏàòÏùµÏÑ± Ï†êÏàò' },
                    { name: 'expected_revenue_min', type: 'INT', comment: 'ÏòàÏÉÅ ÏàòÏùµ ÏµúÏÜå' },
                    { name: 'expected_revenue_avg', type: 'INT', comment: 'ÏòàÏÉÅ ÏàòÏùµ ÌèâÍ∑†' },
                    { name: 'expected_revenue_max', type: 'INT', comment: 'ÏòàÏÉÅ ÏàòÏùµ ÏµúÎåÄ' },
                    { name: 'roi', type: 'DECIMAL(5,2)', comment: 'Ìà¨ÏûêÏàòÏùµÎ•†' },
                    { name: 'break_even_point', type: 'INT', comment: 'ÏÜêÏùµÎ∂ÑÍ∏∞Ï†ê' },
                    { name: 'payback_period', type: 'INT', comment: 'ÌöåÏàò Í∏∞Í∞Ñ' },
                    { name: 'strengths', type: 'TEXT', comment: 'Í∞ïÏ†ê' },
                    { name: 'risks', type: 'TEXT', comment: 'Î¶¨Ïä§ÌÅ¨' },
                    { name: 'improvements', type: 'TEXT', comment: 'Í∞úÏÑ†Ï†ê' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'ai_reports', column: 'report_id' }
                ]
            },
            ai_report_history: {
                category: "ai",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'report_id', type: 'INT', comment: 'ÎåÄÏÉÅ Î≥¥Í≥†ÏÑú' },
                    { name: 'version', type: 'INT', comment: 'Î≤ÑÏ†Ñ Î≤àÌò∏' },
                    { name: 'data_snapshot', type: 'JSON', comment: 'Ï†ÑÏ≤¥ Ïä§ÎÉÖÏÉ∑' },
                    { name: 'updated_by', type: 'INT', comment: 'ÏàòÏ†ïÏûê' },
                    { name: 'updated_at', type: 'DATETIME', comment: 'ÏàòÏ†ïÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'ai_reports', column: 'report_id' },
                    { type: 'foreign_key', target: 'users', column: 'updated_by' }
                ]
            },

            // E. Contracts (Í≥ÑÏïΩ)
            contracts: {
                category: "contracts",
                columns: [
                    { name: 'id', type: 'INT', comment: 'Í≥ÑÏïΩ ID', isPrimary: true },
                    { name: 'property_id', type: 'INT', comment: 'ÎåÄÏÉÅ Îß§Î¨º' },
                    { name: 'type', type: 'ENUM', comment: 'Í≥ÑÏïΩ Ïú†Ìòï (lease, sale, franchise_agreement)' },
                    { name: 'status', type: 'ENUM', comment: 'ÏÉÅÌÉú (draft, in_progress, completed, cancelled)' },
                    { name: 'start_date', type: 'DATE', comment: 'Í≥ÑÏïΩ ÏãúÏûëÏùº' },
                    { name: 'end_date', type: 'DATE', comment: 'Í≥ÑÏïΩ Ï¢ÖÎ£åÏùº' },
                    { name: 'deposit', type: 'INT', comment: 'Î≥¥Ï¶ùÍ∏à' },
                    { name: 'monthly_rent', type: 'INT', comment: 'ÏõîÏÑ∏' },
                    { name: 'contract_fee', type: 'INT', comment: 'Í≥ÑÏïΩ ÏàòÏàòÎ£å' },
                    { name: 'is_deleted', type: 'BOOLEAN', comment: 'ÏÜåÌîÑÌä∏ ÏÇ≠Ï†ú Ïó¨Î∂Ä' },
                    { name: 'created_at', type: 'DATETIME', comment: 'ÏÉùÏÑ±ÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'properties', column: 'property_id' }
                ]
            },
            contract_parties: {
                category: "contracts",
                columns: [
                    { name: 'contract_id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'franchise_id', type: 'INT', comment: 'ÌîÑÎûúÏ∞®Ïù¥Ï¶à ÏÇ¨Ïö©Ïûê ID' },
                    { name: 'agent_id', type: 'INT', comment: 'Î∂ÄÎèôÏÇ∞ ÏÇ¨Ïö©Ïûê ID' },
                    { name: 'owner_id', type: 'INT', comment: 'ÏòàÎπÑ Ï†êÏ£º ÏÇ¨Ïö©Ïûê ID' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'contracts', column: 'contract_id' },
                    { type: 'foreign_key', target: 'users', column: 'franchise_id' },
                    { type: 'foreign_key', target: 'users', column: 'agent_id' },
                    { type: 'foreign_key', target: 'users', column: 'owner_id' }
                ]
            },
            contract_documents: {
                category: "contracts",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'contract_id', type: 'INT', comment: 'Í≥ÑÏïΩ ID' },
                    { name: 'document_url', type: 'VARCHAR(1000)', comment: 'Í≥ÑÏïΩÏÑú PDF URL' },
                    { name: 'uploaded_at', type: 'DATETIME', comment: 'ÏóÖÎ°úÎìú ÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'contracts', column: 'contract_id' }
                ]
            },
            contract_history: {
                category: "contracts",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'contract_id', type: 'INT', comment: 'Í≥ÑÏïΩ ID' },
                    { name: 'version', type: 'INT', comment: 'ÏàòÏ†ï Î≤ÑÏ†Ñ' },
                    { name: 'data_snapshot', type: 'JSON', comment: 'ÏÉÅÌÉú Î∞±ÏóÖ' },
                    { name: 'updated_by', type: 'INT', comment: 'ÏàòÏ†ïÏûê ID' },
                    { name: 'updated_at', type: 'DATETIME', comment: 'ÏàòÏ†ïÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'contracts', column: 'contract_id' },
                    { type: 'foreign_key', target: 'users', column: 'updated_by' }
                ]
            },

            // F. Communication (Ï±ÑÌåÖ Î∞è ÏïåÎ¶º)
            chat_rooms: {
                category: "communication",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'created_by', type: 'INT', comment: 'ÏÉùÏÑ±Ïûê ID' },
                    { name: 'created_at', type: 'DATETIME', comment: 'ÏÉùÏÑ±ÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'users', column: 'created_by' }
                ]
            },
            messages: {
                category: "communication",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'chat_room_id', type: 'INT', comment: 'Ï±ÑÌåÖÎ∞© ID' },
                    { name: 'sender_id', type: 'INT', comment: 'Î∞úÏã†Ïûê ID' },
                    { name: 'message', type: 'TEXT', comment: 'ÌÖçÏä§Ìä∏ Î©îÏãúÏßÄ' },
                    { name: 'sent_at', type: 'DATETIME', comment: 'Ï†ÑÏÜ°ÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'chat_rooms', column: 'chat_room_id' },
                    { type: 'foreign_key', target: 'users', column: 'sender_id' }
                ]
            },
            attachments: {
                category: "communication",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'message_id', type: 'INT', comment: 'Î©îÏãúÏßÄ ID' },
                    { name: 'file_url', type: 'VARCHAR(1000)', comment: 'Ï≤®Î∂ÄÌååÏùº Í≤ΩÎ°ú' },
                    { name: 'uploaded_at', type: 'DATETIME', comment: 'ÏóÖÎ°úÎìú ÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'messages', column: 'message_id' }
                ]
            },
            notifications: {
                category: "communication",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'user_id', type: 'INT', comment: 'ÏÇ¨Ïö©Ïûê ID' },
                    { name: 'type', type: 'ENUM', comment: 'ÏïåÎ¶º Ïú†Ìòï (message, property, request, contract, system)' },
                    { name: 'related_id', type: 'INT', comment: 'Ïó∞Í≤∞Îêú Î¶¨ÏÜåÏä§ ID' },
                    { name: 'message', type: 'TEXT', comment: 'ÏïåÎ¶º Î©îÏãúÏßÄ' },
                    { name: 'is_read', type: 'BOOLEAN', comment: 'ÏùΩÏùå Ïó¨Î∂Ä' },
                    { name: 'created_at', type: 'DATETIME', comment: 'ÏÉùÏÑ±ÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'users', column: 'user_id' }
                ]
            },

            // G. Í∏∞ÌÉÄ ÌÖåÏù¥Î∏î
            activity_logs: {
                category: "others",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'user_id', type: 'INT', comment: 'ÏÇ¨Ïö©Ïûê ID' },
                    { name: 'action', type: 'VARCHAR(255)', comment: 'ÎèôÏûë Ïù¥Î¶Ñ (Ïòà: Îß§Î¨º Îì±Î°ù)' },
                    { name: 'target_table', type: 'VARCHAR(100)', comment: 'ÎåÄÏÉÅ ÌÖåÏù¥Î∏îÎ™Ö' },
                    { name: 'target_id', type: 'INT', comment: 'ÎåÄÏÉÅ ID' },
                    { name: 'created_at', type: 'DATETIME', comment: 'ÏÉùÏÑ±ÏùºÏãú' }
                ],
                relationships: [
                    { type: 'foreign_key', target: 'users', column: 'user_id' }
                ]
            },
            franchises: {
                category: "others",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'name', type: 'VARCHAR(255)', comment: 'ÌîÑÎûúÏ∞®Ïù¥Ï¶à Ïù¥Î¶Ñ' },
                    { name: 'description', type: 'TEXT', comment: 'Î∏åÎûúÎìú ÏÑ§Î™Ö' },
                    { name: 'industry_category', type: 'VARCHAR(100)', comment: 'ÏóÖÏ¢Ö Î∂ÑÎ•ò' },
                    { name: 'avg_score', type: 'DECIMAL(3,2)', comment: 'ÌèâÍ∑† Ï†êÏàò' },
                    { name: 'avg_revenue', type: 'INT', comment: 'ÌèâÍ∑† Îß§Ï∂ú' },
                    { name: 'created_at', type: 'DATETIME', comment: 'ÏÉùÏÑ±ÏùºÏãú' }
                ]
            },
            categories: {
                category: "others",
                columns: [
                    { name: 'id', type: 'INT', comment: 'ID', isPrimary: true },
                    { name: 'name', type: 'VARCHAR(100)', comment: 'ÏóÖÏ¢Ö Ïπ¥ÌÖåÍ≥†Î¶¨Î™Ö' }
                ]
            },
            regions: {
                category: "others",
                columns: [
                    { name: 'id', type: 'VARCHAR(10)', comment: 'ÌñâÏ†ï ÏΩîÎìú (ex. 11110)', isPrimary: true },
                    { name: 'name', type: 'VARCHAR(255)', comment: 'ÌñâÏ†ïÎèô Ïù¥Î¶Ñ' },
                    { name: 'parent_id', type: 'VARCHAR(10)', comment: 'ÏÉÅÏúÑ ÏßÄÏó≠ ID' },
                    { name: 'region_type', type: 'ENUM', comment: 'ÏßÄÏó≠ Íµ¨Î∂Ñ (province, district, sub_district)' }
                ]
            }
        };

        // ÌÖåÏù¥Î∏î Ïπ¥Îìú ÏÉùÏÑ± Ìï®Ïàò
        function createTableCard(tableName, tableData) {
            const card = document.createElement('div');
            card.className = 'table-card';
            card.dataset.table = tableName;
            card.dataset.category = tableData.category;
            
            if (tableData.relationships) {
                card.dataset.relationships = JSON.stringify(tableData.relationships);
            }
            
            // ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä
            card.addEventListener('click', handleTableClick);
            
            const header = document.createElement('div');
            header.className = 'table-header';
            
            const nameDiv = document.createElement('div');
            nameDiv.className = 'table-name';
            nameDiv.textContent = tableName;
            
            const categoryDiv = document.createElement('div');
            categoryDiv.className = 'table-category';
            categoryDiv.textContent = tableData.category;
            
            header.appendChild(nameDiv);
            header.appendChild(categoryDiv);
            card.appendChild(header);

            const columnList = document.createElement('div');
            columnList.className = 'column-list';

            tableData.columns.forEach(column => {
                const columnDiv = document.createElement('div');
                columnDiv.className = 'column';
                
                const columnHeader = document.createElement('div');
                columnHeader.className = 'column-header';
                
                const nameSpan = document.createElement('span');
                nameSpan.className = 'column-name';
                nameSpan.textContent = column.name;
                if (column.isPrimary) nameSpan.textContent += ' üîë';
                if (column.isUnique) nameSpan.textContent += ' üîí';
                
                const typeSpan = document.createElement('span');
                typeSpan.className = 'column-type';
                typeSpan.textContent = column.type;
                
                columnHeader.appendChild(nameSpan);
                columnHeader.appendChild(typeSpan);
                
                const commentSpan = document.createElement('div');
                commentSpan.className = 'column-comment';
                commentSpan.textContent = column.comment;
                
                columnDiv.appendChild(columnHeader);
                columnDiv.appendChild(commentSpan);
                columnList.appendChild(columnDiv);
            });

            card.appendChild(columnList);

            if (tableData.relationships && tableData.relationships.length > 0) {
                const relationshipDiv = document.createElement('div');
                relationshipDiv.className = 'relationship';
                
                tableData.relationships.forEach(rel => {
                    const relItem = document.createElement('div');
                    relItem.className = 'relationship-item';
                    relItem.textContent = `‚Üí ${rel.target} (${rel.column})`;
                    relationshipDiv.appendChild(relItem);
                });
                
                card.appendChild(relationshipDiv);
            }

            return card;
        }

        // ÌÖåÏù¥Î∏î Ïπ¥Îìú ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ Ï≤òÎ¶¨
        function handleTableClick(event) {
            const card = event.currentTarget;
            const tableName = card.dataset.table;
            
            // Î™®Îì† Ïπ¥ÎìúÏùò ÌïòÏù¥ÎùºÏù¥Ìä∏ Ï†úÍ±∞
            document.querySelectorAll('.table-card').forEach(c => {
                c.classList.remove('highlighted', 'related');
            });
            
            // Î™®Îì† Í¥ÄÍ≥ÑÏÑ†Ïùò ÌïòÏù¥ÎùºÏù¥Ìä∏ Ï†úÍ±∞
            document.querySelectorAll('.relationship-line').forEach(line => {
                line.classList.remove('highlighted');
            });
            
            // ÌÅ¥Î¶≠Îêú Ïπ¥Îìú ÌïòÏù¥ÎùºÏù¥Ìä∏
            card.classList.add('highlighted');
            
            // Í¥ÄÎ†®Îêú Ïπ¥ÎìúÎì§ ÌïòÏù¥ÎùºÏù¥Ìä∏
            const relationships = JSON.parse(card.dataset.relationships || '[]');
            relationships.forEach(rel => {
                const relatedCard = document.querySelector(`[data-table="${rel.target}"]`);
                if (relatedCard) {
                    relatedCard.classList.add('related');
                }
            });
            
            // Í¥ÄÎ†®Îêú Í¥ÄÍ≥ÑÏÑ† ÌïòÏù¥ÎùºÏù¥Ìä∏
            document.querySelectorAll('.relationship-line').forEach(line => {
                if (line.dataset.source === tableName || line.dataset.target === tableName) {
                    line.classList.add('highlighted');
                }
            });
        }

        // Í≤ÄÏÉâ Í∏∞Îä•
        document.querySelector('.search-box input').addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.table-card');
            
            cards.forEach(card => {
                const tableName = card.querySelector('.table-name').textContent.toLowerCase();
                const columns = card.querySelectorAll('.column');
                let isVisible = tableName.includes(searchTerm);
                
                if (!isVisible) {
                    columns.forEach(column => {
                        if (column.textContent.toLowerCase().includes(searchTerm)) {
                            isVisible = true;
                        }
                    });
                }
                
                card.style.display = isVisible ? 'block' : 'none';
            });
        });

        // Ïπ¥ÌÖåÍ≥†Î¶¨ ÌïÑÌÑ∞ÎßÅ
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const category = btn.dataset.category;
                const cards = document.querySelectorAll('.table-card');
                
                cards.forEach(card => {
                    if (category === 'all' || card.dataset.category === category) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Í¥ÄÍ≥ÑÏÑ† Í∑∏Î¶¨Í∏∞ Ìï®Ïàò Í∞úÏÑ†
        function drawRelationships() {
            // Í∏∞Ï°¥ Í¥ÄÍ≥ÑÏÑ† Ï†úÍ±∞
            document.querySelectorAll('.relationship-line').forEach(line => line.remove());

            const cards = document.querySelectorAll('.table-card');
            const relationships = new Map();

            // Í¥ÄÍ≥Ñ Ï†ïÎ≥¥ ÏàòÏßë
            cards.forEach(card => {
                const tableName = card.dataset.table;
                const relationships = JSON.parse(card.dataset.relationships || '[]');
                relationships.set(tableName, relationships);
            });

            // Í¥ÄÍ≥ÑÏÑ† Í∑∏Î¶¨Í∏∞
            relationships.forEach((rels, sourceTable) => {
                const sourceCard = document.querySelector(`[data-table="${sourceTable}"]`);
                if (!sourceCard) return;

                rels.forEach(rel => {
                    const targetCard = document.querySelector(`[data-table="${rel.target}"]`);
                    if (!targetCard) return;

                    // Ïπ¥ÎìúÍ∞Ä Î≥¥Ïù¥Îäî ÏÉÅÌÉúÏù∏ÏßÄ ÌôïÏù∏
                    if (sourceCard.offsetParent && targetCard.offsetParent) {
                        drawRelationshipLine(sourceCard, targetCard, rel.type, sourceTable, rel.target);
                    }
                });
            });
        }

        function drawRelationshipLine(sourceCard, targetCard, type, sourceTable, targetTable) {
            const line = document.createElement('div');
            line.className = 'relationship-line';
            line.dataset.source = sourceTable;
            line.dataset.target = targetTable;
            
            const sourceRect = sourceCard.getBoundingClientRect();
            const targetRect = targetCard.getBoundingClientRect();
            
            // Ïπ¥ÎìúÏùò Ï§ëÏïôÏ†ê Í≥ÑÏÇ∞
            const sourceX = sourceRect.right;
            const sourceY = sourceRect.top + sourceRect.height / 2;
            const targetX = targetRect.left;
            const targetY = targetRect.top + targetRect.height / 2;
            
            // Í¥ÄÍ≥ÑÏÑ† Í∏∏Ïù¥ÏôÄ Í∞ÅÎèÑ Í≥ÑÏÇ∞
            const length = Math.sqrt(Math.pow(targetX - sourceX, 2) + Math.pow(targetY - sourceY, 2));
            const angle = Math.atan2(targetY - sourceY, targetX - sourceX) * 180 / Math.PI;
            
            // Í¥ÄÍ≥ÑÏÑ† Ïä§ÌÉÄÏùº ÏÑ§Ï†ï
            line.style.width = `${length}px`;
            line.style.left = `${sourceX}px`;
            line.style.top = `${sourceY}px`;
            line.style.transform = `rotate(${angle}deg)`;
            
            // Í¥ÄÍ≥ÑÏÑ†Ïóê Ìà¥ÌåÅ Ï∂îÍ∞Ä
            line.title = `${sourceTable} ‚Üí ${targetTable}`;
            
            document.body.appendChild(line);
        }

        // ÏúàÎèÑÏö∞ Î¶¨ÏÇ¨Ïù¥Ï¶à Ïãú Í¥ÄÍ≥ÑÏÑ† Ïû¨Í∑∏Î¶¨Í∏∞
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(drawRelationships, 250);
        });

        // Ïä§ÌÅ¨Î°§ Ïãú Í¥ÄÍ≥ÑÏÑ† ÏóÖÎç∞Ïù¥Ìä∏
        window.addEventListener('scroll', () => {
            requestAnimationFrame(drawRelationships);
        });

        // Ïπ¥ÌÖåÍ≥†Î¶¨Î≥ÑÎ°ú ÌÖåÏù¥Î∏î Í∑∏Î£πÌôî
        function groupTablesByCategory() {
            const container = document.getElementById('schemaContainer');
            container.innerHTML = '';
            
            const categories = {
                users: 'ÏÇ¨Ïö©Ïûê Î∞è ÌîÑÎ°úÌïÑ',
                properties: 'Îß§Î¨º',
                ai: 'AI Î∂ÑÏÑù',
                contracts: 'Í≥ÑÏïΩ',
                communication: 'Ïª§ÎÆ§ÎãàÏºÄÏù¥ÏÖò',
                others: 'Í∏∞ÌÉÄ'
            };

            Object.entries(categories).forEach(([category, title]) => {
                const section = document.createElement('div');
                section.className = `category-section category-${category}`;
                
                const header = document.createElement('div');
                header.className = 'category-header';
                header.innerHTML = `<h2>${title}</h2>`;
                
                const content = document.createElement('div');
                content.className = 'category-content';
                
                // Ìï¥Îãπ Ïπ¥ÌÖåÍ≥†Î¶¨Ïùò ÌÖåÏù¥Î∏îÎì§ Ï∂îÍ∞Ä
                Object.entries(schemaData)
                    .filter(([_, data]) => data.category === category)
                    .forEach(([tableName, tableData]) => {
                        const card = createTableCard(tableName, tableData);
                        content.appendChild(card);
                    });
                
                section.appendChild(header);
                section.appendChild(content);
                container.appendChild(section);
            });
        }

        // Ï¥àÍ∏∞Ìôî Ìï®Ïàò
        function initialize() {
            groupTablesByCategory();
            // Í¥ÄÍ≥ÑÏÑ† Í∑∏Î¶¨Í∏∞Î•º ÏïΩÍ∞Ñ ÏßÄÏó∞ÏãúÏºú Ïã§Ìñâ
            setTimeout(drawRelationships, 100);
        }

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï¥àÍ∏∞Ìôî
        window.addEventListener('load', initialize);
    </script>
</body>
</html>
